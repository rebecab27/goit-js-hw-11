var lightbox,API_KEY="44190966-0aa6bbea47325323a5628291c",BASE_URL="https://pixabay.com/api/",currentPage=1,currentQuery="",perPage=40,searchForm=document.getElementById("search-form"),gallery=document.querySelector(".gallery"),loadMoreButton=document.querySelector(".load-more");function onSearch(e){e.preventDefault(),""!==(currentQuery=e.currentTarget.elements.searchQuery.value.trim())?(currentPage=1,gallery.innerHTML="",loadMoreButton.style.display="none",fetchImages(currentQuery,currentPage)):Notiflix.Notify.failure("Please enter a search query.")}function fetchImages(e,t){var o="".concat(BASE_URL,"?key=").concat(API_KEY,"&q=").concat(encodeURIComponent(e),"&image_type=photo&orientation=horizontal&safesearch=true&page=").concat(t,"&per_page=").concat(perPage);console.log("Fetching images with URL:",o),fetch(o).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){console.log("Received data:",e),0!==e.hits.length?(renderImages(e.hits),lightbox?lightbox.refresh():lightbox=new SimpleLightbox(".gallery a",{captionsData:"alt",captionDelay:250}),e.totalHits>perPage*currentPage&&(loadMoreButton.style.display="block"),Notiflix.Notify.success("Hooray! We found ".concat(e.totalHits," images."))):Notiflix.Notify.failure("Sorry, there are no images matching your search query. Please try again.")})).catch((function(e){console.error("Error fetching images:",e),Notiflix.Notify.failure("An error occurred while fetching images. Please try again.")}))}function renderImages(e){var t=e.map((function(e){return'\n      <div class="photo-card">\n        <a href="'.concat(e.largeImageURL,'">\n          <img src="').concat(e.webformatURL,'" alt="').concat(e.tags,'" loading="lazy" />\n        </a>\n        <div class="info">\n          <p class="info-item"><b>Likes</b>: ').concat(e.likes,'</p>\n          <p class="info-item"><b>Views</b>: ').concat(e.views,'</p>\n          <p class="info-item"><b>Comments</b>: ').concat(e.comments,'</p>\n          <p class="info-item"><b>Downloads</b>: ').concat(e.downloads,"</p>\n        </div>\n      </div>\n    ")})).join("");gallery.insertAdjacentHTML("beforeend",t)}function loadMoreImages(){fetchImages(currentQuery,currentPage+=1),setTimeout((function(){var e=document.querySelector(".gallery").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:2*e,behavior:"smooth"})}),500)}searchForm.addEventListener("submit",onSearch),loadMoreButton.addEventListener("click",loadMoreImages);
//# sourceMappingURL=index.1ae84a01.js.map
